@use "../../helpers/functions" as *;
@use "../../helpers/mixins" as *;

.Profile {
    margin-top: 0;
    min-height: calc(100vh - 100px);
    padding-bottom: 120px; // Extra padding to prevent content from being hidden under bottom navigation/buttons

    .Info {
        img {
            width: 100px;
            height: 100px;
            @include transition(transform);

            &:hover {
                transform: scale(1.05);
            }
        }
    }

    // Icon buttons container styling
    .flex.gap-2,
    .flex.gap-3 {
        &[class*="justify-center"],
        &[class*="justify-start"] {
            padding: 0.5rem 0;
            
            button {
                @include transition();
                
                &:focus {
                    outline: 2px solid rgba(99, 102, 241, 0.5);
                    outline-offset: 2px;
                }
            }
        }
    }

    // Account type section - ensure upgrade button fits
    .bg-indigo-50 {
        &[class*="border"] {
            .flex[class*="justify-between"] {
                gap: 0.5rem;
                flex-wrap: wrap;
                
                button {
                    max-width: 100%;
                    
                    span {
                        display: inline-block;
                        white-space: normal;
                        word-break: break-word;
                    }
                }
            }
        }
    }

    // Profile image container improvements
    .relative[class*="flex"] {
        img,
        > div {
            max-width: 100%;
        }
    }

    label,
    p {
        padding: 0 2px;
    }

    input {
        @include transition();

        &:focus {
            @include shadow('md');
        }
    }

    button {
        @include transition();
    }

    .bg-primary-500 {
        background-color: #6366f1;

        &:hover {
            background-color: #4f46e5;
        }
    }

    .text-primary-500 {
        color: #6366f1;
    }

    .border-primary-500 {
        border-color: #6366f1;
    }

    .animate-spin {
        animation: spin 1s linear infinite;
    }

    @keyframes spin {
        from {
            transform: rotate(0deg);
        }

        to {
            transform: rotate(360deg);
        }
    }

    // Enhanced loader styles
    .animate-pulse {
        animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
    }

    @keyframes pulse {
        0%, 100% {
            opacity: 1;
        }
        50% {
            opacity: 0.5;
        }
    }

    // Smooth loader transitions
    [class*="border-purple"] {
        transition: border-color 0.3s ease;
    }

    // Extra small screens (mobile portrait)
    @include Breakpoints(mobile) {
        .md\:flex {
            flex-direction: column;
            align-items: center;
            text-align: center;
        }

        .md\:flex-shrink-0 {
            margin-bottom: 1rem;
        }
        
        // Ensure proper spacing on mobile
        .container {
            padding-left: 0.75rem;
            padding-right: 0.75rem;
        }
    }
    
    // Small screens (tablets: 768px - 991px) - same as mobile
    @include Breakpoints(small) {
        // Same layout as mobile - column layout, centered
        .md\:flex,
        [class*="md:flex"] {
            flex-direction: column !important;
            align-items: center !important;
            text-align: center !important;
        }

        [class*="md:flex-row"] {
            flex-direction: column !important;
        }

        [class*="md:items-start"] {
            align-items: center !important;
        }

        [class*="md:justify-start"] {
            justify-content: center !important;
        }

        .md\:flex-shrink-0,
        [class*="md:flex-shrink-0"] {
            margin-bottom: 1rem;
        }
        
        // Container adjustments - same as mobile
        .container {
            padding-left: 0.75rem;
            padding-right: 0.75rem;
        }

        // Profile image container - center like mobile
        [class*="md:flex-shrink-0"],
        [class*="flex-shrink-0"] {
            align-items: center !important;
        }

        // Icon buttons container - centered like mobile
        .flex.gap-2,
        .flex.gap-3 {
            width: 100%;
            max-width: fit-content;
            margin: 0 auto;
            justify-content: center !important;
            
            button {
                padding: 0.5rem !important;
                display: flex;
                align-items: center;
                justify-content: center;
                
                svg {
                    width: 1rem;
                    height: 1rem;
                }
            }
        }

        // Personal link section - keep column layout like mobile
        .flex-col[class*="sm:flex-row"],
        [class*="sm:flex-row"] {
            flex-direction: column !important;
            align-items: stretch;
            gap: 0.75rem;
        }

        // Modal/dialog adjustments for tablets
        .fixed.inset-0 {
            .max-w-md {
                max-width: 85%;
                width: 85%;
                padding: 1.5rem;
            }
        }
    }
    
    // Medium screens (larger tablets: 992px - 1199px) - same as mobile
    @include Breakpoints(medium) {
        // Same layout as mobile - column layout, centered
        .md\:flex,
        [class*="md:flex"] {
            flex-direction: column !important;
            align-items: center !important;
            text-align: center !important;
        }

        [class*="md:flex-row"] {
            flex-direction: column !important;
        }

        [class*="md:items-start"] {
            align-items: center !important;
        }

        [class*="md:justify-start"] {
            justify-content: center !important;
        }

        .md\:flex-shrink-0,
        [class*="md:flex-shrink-0"] {
            margin-bottom: 1rem;
        }
        
        // Container adjustments - same as mobile
        .container {
            padding-left: 0.75rem;
            padding-right: 0.75rem;
        }

        // Profile image container - center like mobile
        [class*="md:flex-shrink-0"],
        [class*="flex-shrink-0"] {
            align-items: center !important;
        }

        // Icon buttons container - centered like mobile
        .flex.gap-2,
        .flex.gap-3 {
            width: 100%;
            max-width: fit-content;
            margin: 0 auto;
            justify-content: center !important;
        }

        // Personal link section - keep column layout like mobile
        .flex-col[class*="sm:flex-row"],
        [class*="sm:flex-row"] {
            flex-direction: column !important;
            align-items: stretch;
            gap: 0.75rem;
        }
    }
    
    // Large screens (desktop)
    @media (min-width: 1024px) {
        .container {
            max-width: 1280px;
        }
    }
    
    // Extra large screens
    @media (min-width: 1280px) {
        .container {
            max-width: 1536px;
        }
    }
}

// Dark Mode Styles
.dark {
    .Profile {
        background: transparent;

        label, p {
            color: #cbd5e1;
        }

        input {
            background: rgba(30, 41, 59, 0.6);
            border-color: rgba(99, 102, 241, 0.3);
            color: #f1f5f9;

            &:focus {
                background: rgba(30, 41, 59, 0.8);
                border-color: rgba(99, 102, 241, 0.5);
            }
        }

        .bg-indigo-50 {
            background: rgba(30, 41, 59, 0.6) !important;
        }
    }
}